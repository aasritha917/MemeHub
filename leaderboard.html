<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Image Gallery</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #0d0d0d;
      color: #fff;
      transition: background-color 0.3s, color 0.3s;
    }

    /* Light mode styles */
    body.light {
      background: #f5f5f5;
      color: #111;
    }

    .navbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 20px;
      background-color: #0d0d0d;
      border-bottom: 1px solid #222;
      transition: background-color 0.3s;
    }

    body.light .navbar {
      background-color: #fff;
      border-bottom: 1px solid #ddd;
    }

    .logo {
      display: flex;
      align-items: center;
      font-size: 22px;
      font-weight: bold;
      color: #fff;
      transition: color 0.3s;
    }

    body.light .logo {
      color: #111;
    }

    .logo div {
      width: 32px;
      height: 32px;
      margin-right: 8px;
      border-radius: 50%;
      background: #fff;
      color: black;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: bold;
      font-size: 20px;
    }

    .search-bar {
      flex: 1;
      max-width: 300px;
      margin: 0 10px;
    }

    .search-bar input {
      width: 100%;
      padding: 8px 12px;
      border-radius: 8px;
      border: 1px solid #444;
      background-color: #121212;
      color: #fff;
      transition: background-color 0.3s, color 0.3s, border-color 0.3s;
    }

    body.light .search-bar input {
      background-color: #fff;
      color: #111;
      border-color: #ccc;
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 25px;
    }

    .nav-links a {
      text-decoration: none;
      color: #ccc;
      font-weight: 500;
      transition: color 0.3s;
    }

    .nav-links a.active {
      color: #fff;
      font-weight: bold;
    }

    body.light .nav-links a {
      color: #555;
    }

    body.light .nav-links a.active {
      color: #111;
    }

    .create-btn {
      background: #fff;
      color: #000;
      padding: 6px 14px;
      border-radius: 8px;
      font-weight: bold;
      border: none;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
    }

    body.light .create-btn {
      background: #000;
      color: #fff;
    }

    .toggle-dark {
      margin-left: 16px;
      font-size: 18px;
      background: none;
      border: none;
      color: #fff;
      cursor: pointer;
      transition: color 0.3s;
    }

    body.light .toggle-dark {
      color: #111;
    }

    .login-btn {
      margin-left: 12px;
      padding: 6px 12px;
      border-radius: 8px;
      border: 1px solid #fff;
      background: transparent;
      color: #fff;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: border-color 0.3s, color 0.3s;
    }

    body.light .login-btn {
      border-color: #111;
      color: #111;
    }
    body {
      font-family: Arial;
      
      margin: 0;
      padding: 20px;
    }
    h2 {
      text-align: center;
      margin-bottom: 30px;
    }
    .gallery-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 16px;
      max-width: 1000px;
      margin: auto;
    }
    .gallery-item {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      overflow: hidden;
      padding: 10px;
    }
    .gallery-item img {
      width: 100%;
      height: auto;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <nav class="navbar">
        <div class="logo">
            <div>M</div>
            MemeHub
        </div>

        <div class="search-bar">
            <input type="text" placeholder="Search memes, tags, or creators..." />
        </div>

        <div class="nav-links">
            <a href="./index.html" class="active">Home</a>
            <a href="./Explore.html">Explore</a>
            <a href="./Create.html"><button class="create-btn">+ Create</button></a>
            <a href="./leaderboard.html">Leaderboard</a>
            <a href="./Profile.html">Profile</a>
            <button class="toggle-dark" onclick="toggleDarkMode()">ðŸŒ™</button>
            <button class="login-btn">
                <span><svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#e3e3e3"><path d="M216-144q-29.7 0-50.85-21.15Q144-186.3 144-216v-528q0-29.7 21.15-50.85Q186.3-816 216-816h264v72H216v528h264v72H216Zm432-168-51-51 81-81H384v-72h294l-81-81 51-51 168 168-168 168Z"/></svg></span> LogOut
            </button>
        </div>
    </nav>

  <h2>Uploaded Images</h2>
  <div class="gallery-container" id="gallery"></div>

  <!-- footer.html -->
<footer style="background-color: #121212; color: #fff; padding: 20px 0; text-align: center; font-size: 14px;">
  <p>&copy; 2025 MemeHub. All rights reserved.</p>
  <p>
    <a href="#" style="color: #bbb; text-decoration: none; margin: 0 10px;">About</a> |
    <a href="#" style="color: #bbb; text-decoration: none; margin: 0 10px;">Terms</a> |
    <a href="#" style="color: #bbb; text-decoration: none; margin: 0 10px;">Privacy</a> |
    <a href="#" style="color: #bbb; text-decoration: none; margin: 0 10px;">Contact</a>
  </p>
</footer>
  
  <script>
  const firebaseConfig = {
  apiKey: "AIzaSyBJI1XFRpz3bq3ZUVMtKzk17EhmfqDFfTE",
  authDomain: "memeshub-f7efc.firebaseapp.com",
  projectId: "memeshub-f7efc",
  storageBucket: "memeshub-f7efc.firebasestorage.app",
  messagingSenderId: "117220810268",
  appId: "1:117220810268:web:1ca15696d45e2d3fc549d9",
  measurementId: "G-RXE7B2VD02"
};


    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // Reference to the 'images' node
    db.ref('images').on('child_added', (snapshot) => {
      const value = snapshot.val();
      // Support both { url: ... } and direct string value
      const imageUrl = typeof value === 'string' ? value : value.url;
      if (!imageUrl) return; // Skip if no URL

      const gallery = document.getElementById('gallery');

      const item = document.createElement('div');
      item.classList.add('gallery-item');

      const img = document.createElement('img');
      img.src = imageUrl;
      img.alt = "Uploaded image";

      item.appendChild(img);
      gallery.appendChild(item);
    });
    
    function toggleDarkMode() {
      document.body.classList.toggle("light");
      const btn = document.querySelector(".toggle-dark");
      btn.textContent = document.body.classList.contains("light") ? "ðŸŒž" : "ðŸŒ™";
    }
  
    
  </script>

</body>
</html>